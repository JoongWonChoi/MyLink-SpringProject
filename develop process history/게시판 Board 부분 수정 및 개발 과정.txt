보드 개선
1.repo / service / controller
2.기능
-CRUD -> session 활용
게시물 작성 폼 들어가면 세션에 저장 되어있는 회원 정보들 읽어올 수 있게끔
--id / 회원(이름/아이디/학과 정도?) / 제목 / 내용 / 작성시간

==Service==
-createPost
-readPost
-updatePost
-deletePost
-viewAllPosts

==Repo==
-save
-findPost
-findAllPost
-update
-remove


member와 board는 현재 연관가ㅗㄴ계 매핑 되어있는 상황.
member join 하고 그 멤버로 post 생성하려 하면,
갑자기 저장된 post 식별값이 2가 됨..

로그인
1. 게시물 작성 폼에 session.loginMember.정보들 로 회원 정보 확인 및 표시
2. 작성 폼에 제목 내용 적고, memberId, title, post 를 controller로 넘김
--어차피 클라이언트와 세션 유지중이니, 세션에 있는 member 객체를 불러와도 되지않나? 또 find하려면 DB 접근해야하니 리소스 낭비가..session.getAttribute();

3. post로 받는메서드에서는 (memberId,) title, post를 받음
4. member객체, title, post 를 통해 컨트롤러에서 board.createPost()를 진행,저장할 board 객체를 생성함
5. 생성된 board객체를 service -> repository로 넘겨DB에 저장.

board의 아이디가왜 2로 넘어가지??

board 테이블 id는 0부터 ++1씩 순차적으로 넘어가는 것이 아니라, member테이블의 id에 의해 결정되는 듯 보임.
멤버생성(1) -> 게시물 생성(2) -> 멤버 생성(3) -> 게시물 생성(4)
멤버생성(1) -> 멤버 생성(2)  ->게시물 생성(3)  -> 게시물 생성(4)

나는 멤버는 게시물이든 각각 테이블에 맞게 생성한 순서로 1, 2, 3 이렇게 된다고 생각했음..
그래도 식별자가 겹칠 일은 없으니 상관 x??

그런데 Member 도메인에서  하나의 회원 객체에 대해 생성된 board값을 넣어줘야하는거 아닐까?

Board 테이블에 member_id로 외래키를 걸어놓았기 때문에, Member테이블에는 
board에 대한 정보가 없어도 된다. join하면 됨

회원id로기능구현할때에도 보통 회원 객체를 받아와서 id를 참조하기때문에 상관 없을 것이라고 생각함


1. 게시물 작성 폼에서 controller로 회원 객체 넘기는 방법
2. 컨트롤러 전면 수정
3. restful하게 url 개발

4. 게시물 list, 작성 폼
번호 / 제목 / 글쓴이 / 시간

<===로그인 된(in session) 회원 객체로 글쓰기===>
1. 세션에 회원 객체 저장 -> 세션에 저장된 객체 view 폼에 옮겨담기 -> 게시물 작성 시 사용 -> 작성된 폼에서 회원 객체 post로 바인딩 해오기
==>만약 세션이 죽어도, 폼에는 세션에 있던 정보 존재. 
하지만 만약 세션이 없는 상태에서 폼을 쓰는 경우가 있다면 정보가 노출될 수 있음.

2. 세션에 회원 객체 저장 -> 폼에서는 세션에 저장된 회원 객체 사용 -> post메서드에서도 세션에 저장된 회원 객체 사용
==>만약 글 작성 과정에서 세션 죽는다면
로그인 유지는 현재 세션 기준으로 기능하기때문에, 글쓰기도 세션 기준으로 적용됨.
또한 하나의 클라이언트-서버 관계에서는 하나의 세션만 생성되므로, 문제될 것이 없다고 생각 . 
하지만 동시 접속자 혹은 사용자가 많아진다면?
==========================================
1. 우선 폼에서 컨틀롤러로 member가 자동 바인딩 되나 확인 
cannotfind name => member객체가 폼에서 컨트롤러로binding되지 않음 
or board.member.name 의 접근 방식 잘못임
==========================================
==========================================
2. session에서 getAttribute로 회원 객체 꺼낸 후 캐스팅, Board 생성 로직으로 넘김
성공한듯?? 로그아웃 한 후에도 잘 작동.
==========================================
2/15 게시판CRUD 구현까지 완료!
<앞으로 develop 사항>
==about View Form==
--작성 시간 처리v
--오류 처리 : 
---세션 없이 글쓰기 시 에러 표시 v
---게시판 목록 제목 링크 안보이게끔
--카테고리 만들기(분류 나누어서)
--글쓰기 랑 게시물 보기 폼에서만 회원 정보로 이동 안됨,.
==about logic / API==
--회원이 쓴 글 보기
--인증 관련(관리자 / 회원)
--JWT!!!
--cloud!
--다른 브라우저에서 로그인 시 오류 내보내기
============================================
한 회원으로 게시물 하나 작성 시마다 회원 도메인에 있는 Board리스트에 넣어주는 작업필요.
=>게시물 create 시 자동으로 Member에 있는 리스트에 넣어주는 기능
연관관계 메서드로 해결...!? how?
+내가 작성한 글은 나만 지울 수 있게끔 구현
게시글의 회원정보 == 현재 내가 로그인한 회원 정보 판별

session.loginMember과 post.member 비교 ==> 의도대로 기능 x
==>thymeleaf if문법 내에 비교연산자(and) 사용해서 해결!
그러면 session에 담긴 로그인 멤버 정보와 게시물을 작성한 멤버 정보는 다른것일까?


